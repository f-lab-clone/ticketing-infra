grafana:
  sidecar:
    dashboards:
      enabled: true
      label: grafana_dashboard
      folder: /tmp/dashboards
      provider: 
        allowUiUpdates: true
        foldersFromFilesStructure: true

      annotations: 
        k8s-sidecar-target-directory: "/tmp/dashboards/kubernetes"

prometheus:
  prometheusSpec:
    enableRemoteWriteReceiver: true
    enableFeatures: 
      - native-histograms

    storageSpec:
     volumeClaimTemplate:
       spec:
         storageClassName: gp3
         accessModes: ["ReadWriteOnce"]
         resources:
           requests:
             storage: 2Gi

    additionalScrapeConfigs:
      - job_name: "mysql-exporter"
        static_configs:
          - targets: ["mysql-exporter-prometheus-mysql-exporter:9104"]

      - job_name: "spring-actuator"
        static_configs:
          - targets: ["development-ticketing-application.default:8080"]
        metrics_path: "/actuator/prometheus"
